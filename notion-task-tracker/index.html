<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notion任务打卡系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .date-display {
            font-size: 1.2rem;
            margin-top: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .refresh-info {
            background: #ff7043;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 20px;
            margin-top: 10px;
            display: inline-block;
        }
        
        .tasks-container {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .task-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border-left: 4px solid #4b6cb7;
        }
        
        .task-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .task-checkbox {
            appearance: none;
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid #4b6cb7;
            margin-right: 15px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        .task-checkbox:checked {
            background-color: #4b6cb7;
            border-color: #4b6cb7;
        }
        
        .task-checkbox:checked::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 14px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .task-label {
            flex: 1;
            font-size: 1.1rem;
            color: #333;
        }
        
        .task-item.checked .task-label {
            text-decoration: line-through;
            color: #888;
        }
        
        .progress-container {
            padding: 20px;
            background: #f5f7fa;
            border-top: 1px solid #e0e0e0;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: #555;
        }
        
        footer {
            padding: 15px;
            text-align: center;
            background: #f5f7fa;
            border-top: 1px solid #e0e0e0;
            color: #777;
            font-size: 0.9rem;
        }
        
        .reset-btn {
            background: #ff7043;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .reset-btn:hover {
            background: #f4511e;
        }
        
        .sync-btn {
            background: #00a86b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
            margin-left: 10px;
            transition: background 0.3s;
        }
        
        .sync-btn:hover {
            background: #00875a;
        }
        
        @media (max-width: 600px) {
            .tasks-container {
                grid-template-columns: 1fr;
            }
            
            .task-item {
                padding: 12px;
            }
            
            .task-label {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Notion任务打卡系统</h1>
            <div class="date-display">
                <i class="far fa-calendar-alt"></i>
                <span id="current-date">2023年11月10日 星期五</span>
            </div>
            <div class="refresh-info">
                <i class="fas fa-sync-alt"></i>
                每日午夜12点自动刷新任务
            </div>
        </header>
        
        <div class="tasks-container">
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task1">
                <label for="task1" class="task-label">小赚帮打卡/签到</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task2">
                <label for="task2" class="task-label">做完就滚页面</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task3">
                <label for="task3" class="task-label">每日必提现</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task4">
                <label for="task4" class="task-label">每日玩一玩</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task5">
                <label for="task5" class="task-label">淘宝签到</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task6">
                <label for="task6" class="task-label">淘宝打卡</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task7">
                <label for="task7" class="task-label">淘宝看视频</label>
            </div>
            <div class="task-item">
                <input type="checkbox" class="task-checkbox" id="task8">
                <label for="task8" class="task-label">其他任务</label>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="progress-text">
                <span>完成进度</span>
                <span id="progress-percent">0%</span>
            </div>
        </div>
        
        <footer>
            <p>今日已完成 <span id="completed-count">0</span>/8 个任务</p>
            <button class="reset-btn" id="reset-btn">手动重置任务</button>
            <button class="sync-btn" id="sync-btn">
                <i class="fas fa-sync-alt"></i>同步到Notion
            </button>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 更新日期显示
            function updateDate() {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
                document.getElementById('current-date').textContent = now.toLocaleDateString('zh-CN', options);
            }
            
            // 初始化任务状态
            function initializeTasks() {
                const today = new Date().toDateString();
                const lastReset = localStorage.getItem('lastResetDate');
                
                // 如果是新的一天，重置所有任务
                if (lastReset !== today) {
                    resetAllTasks();
                    localStorage.setItem('lastResetDate', today);
                } else {
                    // 加载已保存的任务状态
                    for (let i = 1; i <= 8; i++) {
                        const isChecked = localStorage.getItem(`task${i}`) === 'true';
                        document.getElementById(`task${i}`).checked = isChecked;
                        
                        if (isChecked) {
                            document.getElementById(`task${i}`).parentElement.classList.add('checked');
                        }
                    }
                }
                
                updateProgress();
            }
            
            // 重置所有任务
            function resetAllTasks() {
                for (let i = 1; i <= 8; i++) {
                    document.getElementById(`task${i}`).checked = false;
                    document.getElementById(`task${i}`).parentElement.classList.remove('checked');
                    localStorage.setItem(`task${i}`, 'false');
                }
                updateProgress();
            }
            
            // 更新进度条
            function updateProgress() {
                let completedCount = 0;
                for (let i = 1; i <= 8; i++) {
                    if (document.getElementById(`task${i}`).checked) {
                        completedCount++;
                    }
                }
                
                const percent = (completedCount / 8) * 100;
                document.getElementById('progress-fill').style.width = `${percent}%`;
                document.getElementById('progress-percent').textContent = `${percent.toFixed(0)}%`;
                document.getElementById('completed-count').textContent = completedCount;
            }
            
            // 为每个任务添加事件监听器
            for (let i = 1; i <= 8; i++) {
                document.getElementById(`task${i}`).addEventListener('change', function() {
                    localStorage.setItem(`task${i}`, this.checked);
                    if (this.checked) {
                        this.parentElement.classList.add('checked');
                    } else {
                        this.parentElement.classList.remove('checked');
                    }
                    updateProgress();
                });
            }
            
            // 添加重置按钮事件
            document.getElementById('reset-btn').addEventListener('click', function() {
                if (confirm('确定要重置所有任务吗？')) {
                    resetAllTasks();
                }
            });
            
            // 添加同步按钮事件（简化版）
            document.getElementById('sync-btn').addEventListener('click', function() {
                const completedCount = document.getElementById('completed-count').textContent;
                alert(`✅ 任务状态已保存！\n\n已完成 ${completedCount}/8 个任务\n\nNotion同步功能需要额外配置`);
            });
            
            // 检查是否需要每日重置
            function checkDailyReset() {
                const now = new Date();
                const today = now.toDateString();
                const lastReset = localStorage.getItem('lastResetDate');
                
                if (lastReset !== today && now.getHours() === 0) {
                    resetAllTasks();
                    localStorage.setItem('lastResetDate', today);
                }
            }
            
            // 初始化
            updateDate();
            initializeTasks();
            
            // 每分钟检查一次是否需要重置
            setInterval(checkDailyReset, 60000);
        });
    </script>
</body>
</html>
